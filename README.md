# FoundryVTT Release DB Packer

A Github Action that packs JSON files generated by the [FoundryVTT CLI](https://github.com/foundryvtt/foundryvtt-cli) into compendium pack databases for release.

## Usage

> [!WARNING]
> This action does not work with Windows runners.

`Example workflow`

```yaml
# .github/workflows/release.yml
name: Release
on:
    push:
        tags:
            - "v*.*.*"
jobs:
    release:
        runs-on: ubuntu-latest
        steps:
            - name: Checkout
              uses: actions/checkout@v2
            - name: Create Database Packs
              uses: aMediocreDad/foundry-db-packer@v0.2.1
              with:
                  inputdir: # The directory which contains the JSON files to pack (required)
                  packsdir: packs/ # The directory where the compendium packs should exist (optional)
                  pack_classiclevel: true # <boolean> Whether to pack the class level db files (optional)
                  pack_nedb: false # <boolean> Whether to pack the nedb db files (optional)


        # Do something with the database packs
```

## Developing

This action uses [@changesets/cli](https://github.com/changesets/changesets/blob/main/docs/intro-to-using-changesets.md) for versioning, [esbuild](https://esbuild.github.io/) for building and [vitest](https://vitest.dev) for testing.
